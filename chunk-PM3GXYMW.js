import{f as u,g as h,k as l,na as f,sa as p,t as o,va as a,w as i}from"./chunk-MUKIEXX6.js";var c={apiUrl:"http://localhost:4200"};var x=(()=>{let t=class t{constructor(e,r){this.router=e,this.http=r,this.userSubject=new h(JSON.parse(localStorage.getItem("user"))),this.user=this.userSubject.asObservable()}get userValue(){return this.userSubject.value}login(e,r){return this.http.post(`${c.apiUrl}/users/authenticate`,{username:e,password:r}).pipe(l(n=>(localStorage.setItem("user",JSON.stringify(n)),this.userSubject.next(n),n)))}logout(){localStorage.removeItem("user"),this.userSubject.next(null),this.router.navigate(["/login"])}register(e){return this.http.post(`${c.apiUrl}/users/register`,e)}};t.\u0275fac=function(r){return new(r||t)(i(a),i(f))},t.\u0275prov=o({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();var R=(()=>{let t=class t{constructor(e){this.router=e,this.subject=new u,this.showAfterRedirect=!1,this.router.events.subscribe(r=>{r instanceof p&&(this.showAfterRedirect?this.showAfterRedirect=!1:this.clear())})}onAlert(){return this.subject.asObservable()}success(e,r=!1){this.showAfterRedirect=r,this.subject.next({type:"success",message:e})}error(e,r=!1){this.showAfterRedirect=r,this.subject.next({type:"error",message:e})}clear(){this.subject.next(null)}};t.\u0275fac=function(r){return new(r||t)(i(a))},t.\u0275prov=o({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{c as a,x as b,R as c};
