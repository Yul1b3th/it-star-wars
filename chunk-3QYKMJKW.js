import{a as I,b as f,c as j,d as A,e as M,f as P,g as k,h as D,i as G}from"./chunk-ULA73GX2.js";import{a as V}from"./chunk-O7R62VNR.js";import{b as w,c as L}from"./chunk-PM3GXYMW.js";import{$ as x,L as r,M as p,P as c,R as l,S as s,W as n,X as t,Y as d,aa as g,ca as a,ga as E,ia as b,ka as N,la as R,p as S,ta as y,va as q,wa as F,y as h,za as T}from"./chunk-MUKIEXX6.js";function O(e,o){e&1&&(n(0,"div"),a(1,"First Name is required"),t())}function U(e,o){if(e&1&&(n(0,"div",24),l(1,O,2,0,"div"),t()),e&2){let m=g();r(1),s(1,m.f.firstName.errors.required?1:-1)}}function X(e,o){e&1&&(n(0,"div"),a(1,"Last Name is required"),t())}function z(e,o){if(e&1&&(n(0,"div",24),l(1,X,2,0,"div"),t()),e&2){let m=g();r(1),s(1,m.f.lastName.errors.required?1:-1)}}function H(e,o){e&1&&(n(0,"div"),a(1,"Username is required"),t())}function J(e,o){if(e&1&&(n(0,"div",24),l(1,H,2,0,"div"),t()),e&2){let m=g();r(1),s(1,m.f.username.errors.required?1:-1)}}function K(e,o){e&1&&(n(0,"div"),a(1,"Password is required"),t())}function Q(e,o){e&1&&(n(0,"div"),a(1,"Password must be at least 6 characters"),t())}function W(e,o){if(e&1&&(n(0,"div",24),l(1,K,2,0,"div")(2,Q,2,0,"div"),t()),e&2){let m=g();r(1),s(1,m.f.password.errors.required?1:-1),r(1),s(2,m.f.password.errors.minlength?2:-1)}}function Y(e,o){e&1&&d(0,"span",25)}var C=e=>({"is-invalid":e}),le=(()=>{let o=class o{constructor(v,u,i,_,B){this.formBuilder=v,this.route=u,this.router=i,this.accountService=_,this.alertService=B,this.loading=!1,this.submitted=!1,this.accountService.userValue&&this.router.navigate(["/"])}ngOnInit(){this.form=this.formBuilder.group({firstName:["",f.required],lastName:["",f.required],username:["",f.required],password:["",[f.required,f.minLength(6)]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe(S()).subscribe({next:()=>{this.alertService.success("Registration successful",!0),this.router.navigate(["/login"],{queryParams:{registered:!0}})},error:v=>{this.alertService.error(v),this.loading=!1}}))}};o.\u0275fac=function(u){return new(u||o)(p(D),p(y),p(q),p(w),p(L))},o.\u0275cmp=h({type:o,selectors:[["app-register"]],standalone:!0,features:[E],decls:42,vars:19,consts:[[1,"bg-account"],[1,"container"],[1,"text-center","pt-3"],[1,"pt-5","pb-3"],["src","assets/thr-logos-800_cf05c8d8.png","alt","",1,"bg-account-logo"],[1,"pb-3"],[1,"btn","btn-primary","btn-lg","rounded-pill",2,"--bs-btn-padding-x","2rem"],[1,"col-md-6","offset-md-3","mt-5","pb-5"],[1,"card","mb-3"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"d-flex","gap-3"],[1,"btn","btn-primary","btn-lg","rounded-pill",2,"--bs-btn-padding-x","2rem",3,"disabled"],["class","spinner-border spinner-border-sm me-1"],["routerLink","",1,"btn","btn-outline-secondary","btn-lg","rounded-pill",2,"--bs-btn-padding-x","2rem"],[1,"mb-5"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(u,i){u&1&&(n(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3),d(4,"img",4),t(),n(5,"h2",5),a(6,"Lorem ipsum dolor sit amet."),t(),n(7,"button",6),a(8,"EXPLORE"),t()(),n(9,"div",7)(10,"div",8)(11,"h4",9),a(12,"Register"),t(),n(13,"div",10)(14,"form",11),x("ngSubmit",function(){return i.onSubmit()}),n(15,"div",12)(16,"label",13),a(17,"First Name"),t(),d(18,"input",14),l(19,U,2,1,"div",15),t(),n(20,"div",12)(21,"label",13),a(22,"Last Name"),t(),d(23,"input",16),l(24,z,2,1,"div",15),t(),n(25,"div",12)(26,"label",13),a(27,"Username"),t(),d(28,"input",17),l(29,J,2,1,"div",15),t(),n(30,"div",12)(31,"label",13),a(32,"Password"),t(),d(33,"input",18),l(34,W,3,2,"div",15),t(),n(35,"div",19)(36,"button",20),l(37,Y,1,0,"span",21),a(38," Register "),t(),n(39,"a",22),a(40,"Cancel"),t()()()()(),d(41,"alert",23),t()()()),u&2&&(r(14),c("formGroup",i.form),r(4),c("ngClass",b(11,C,i.submitted&&i.f.firstName.errors)),r(1),s(19,i.submitted&&i.f.firstName.errors?19:-1),r(4),c("ngClass",b(13,C,i.submitted&&i.f.lastName.errors)),r(1),s(24,i.submitted&&i.f.lastName.errors?24:-1),r(4),c("ngClass",b(15,C,i.submitted&&i.f.username.errors)),r(1),s(29,i.submitted&&i.f.username.errors?29:-1),r(4),c("ngClass",b(17,C,i.submitted&&i.f.password.errors)),r(1),s(34,i.submitted&&i.f.password.errors?34:-1),r(2),c("disabled",i.loading),r(1),s(37,i.loading?37:-1))},dependencies:[R,N,G,M,I,j,A,P,k,T,F,V]});let e=o;return e})();export{le as default};
